<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="all.css">
    <link rel="stylesheet" href="w3.css">
  </head>
  <body>
    <div id="bar">
      <ul>
        <li><a href="dashboard.html"><img src="Logo.png" id="bar-logo"></a></li>
        <li><a href="pretest.html" target="iframe" class="links">Tomar test</a></li>
        <li><a href="curious-facts.html" target="iframe" class="links">Datos curiosos</a></li>
        <li id="user" style="float: right;"></li>
      </ul>
    </div>
    <iframe src="report.html" frameborder="0" name="iframe" id="iframe"></iframe>
  </body>
  <script>
    class SinglyList{
      constructor(head){
        this.head=head;
        this.pointer=null;
      }
      getUserName(position){
        this.pointer=this.head;
        if(position>0){
          for(let i=0;i<=position;i++){
            this.pointer=this.pointer.next;
          }
        }
        return `${this.pointer.name} ${this.pointer.lastname}`;
      }
    }
    const list=new SinglyList(JSON.parse(localStorage.getItem('accesskeys')));
    var position=parseInt(localStorage.getItem("user-session"))
    if(position==null){
      location.replace("login.html");
    }else{
      document.getElementById("user").innerHTML=list.getUserName(position);
    }
  </script>
</html>